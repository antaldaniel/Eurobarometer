<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working With Metadata • eurobarometer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Working With Metadata">
<meta property="og:description" content="eurobarometer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eurobarometer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/harmonization.html">Survey Data Harmonization</a>
    </li>
    <li>
      <a href="../articles/metadata.html">Working With Metadata</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/antaldaniel/eurobarometer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="metadata_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working With Metadata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/antaldaniel/eurobarometer/blob/master/vignettes/metadata.Rmd"><code>vignettes/metadata.Rmd</code></a></small>
      <div class="hidden name"><code>metadata.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">eurobarometer</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)</pre></body></html></div>
<p>The <code>ZA7562_sample</code> is a small fraction of the GESIS datafile <code>ZA5479_v6-0-0.sav</code>. It cannot be used to retrieve any statistical data from the original dataset. In scope it is limited to some important metadata columns, a few demographic variables and one question block. In geographic coverage, it takes a sample from the responses from the United Kingdom and Germany. These two countries are targeting parts of the countries separately, i.e. for Great Britain and Northern Ireland, and the former West Germany and East Germany.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">ZA7576_sample</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_rds.html">read_rds</a></span>(
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"examples"</span>, <span class="st">"ZA7576.rds"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"eurobarometer"</span>)
)
<span class="co">#&gt; Survey read:</span>
<span class="co">#&gt; id: ZA7576</span>
<span class="co">#&gt; filename: ZA7576.rds</span>
<span class="co">#&gt; doi: doi:10.4232/1.13393</span></pre></body></html></div>
<p>When you read data in with <code><a href="../reference/read_rds.html">read_rds()</a></code> or <code><a href="../reference/read_rds.html">read_spss()</a></code>, as many metadata is added to the survey data frame as possible.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span>(<span class="no">ZA7576_sample</span>)
<span class="co">#&gt; $names</span>
<span class="co">#&gt;  [1] "rowid"    "doi"      "version"  "uniqid"   "caseid"   "serialid"</span>
<span class="co">#&gt;  [7] "isocntry" "p1"       "p2"       "p3"       "p4"       "p5"      </span>
<span class="co">#&gt; [13] "nuts"     "d7"       "d8"       "d25"      "d60"      "qa14_5"  </span>
<span class="co">#&gt; [19] "qa14_3"   "qa14_2"   "qa14_4"   "qa14_1"   "qa6a_5"   "qa6a_10" </span>
<span class="co">#&gt; [25] "qa6b_2"   "qa6a_3"   "qa6a_1"   "qa6b_4"   "qa6a_8"   "qa6a_9"  </span>
<span class="co">#&gt; [31] "qa6a_4"   "qa6a_2"   "qa6b_1"   "qa6a_6"   "qa6a_7"   "qa6a_11" </span>
<span class="co">#&gt; [37] "qa6b_3"   "qd6.1"    "qd6.2"    "qd6.3"    "qd6.4"    "qd6.5"   </span>
<span class="co">#&gt; [43] "qd6.6"    "qd6.7"    "qd6.8"    "qd6.9"    "qd6.10"   "qd6.11"  </span>
<span class="co">#&gt; [49] "qd6.12"   "qd6.13"   "qd6.14"   "qg1b"     "qg8"      "w1"      </span>
<span class="co">#&gt; [55] "w3"       "wex"     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $row.names</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span>
<span class="co">#&gt; [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "survey"     "tbl_df"     "tbl"        "data.frame"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $id</span>
<span class="co">#&gt; [1] "ZA7576"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $filename</span>
<span class="co">#&gt; [1] "ZA7576.rds"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $doi</span>
<span class="co">#&gt; [1] "doi:10.4232/1.13393"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $gesis_file_version</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $wave</span>
<span class="co">#&gt; [1] "Eurobarometer 91.5"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $timeframe</span>
<span class="co">#&gt; [1] "June-July 2019"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $eb_description</span>
<span class="co">#&gt; [1] "Standard Eurobarometer, European Parliament Post-election survey 2019, and EU citizens and development cooperation"</span></pre></body></html></div>
<p>For identifying variables and variable labels, the helper function <code><a href="../reference/gesis_metadata_create.html">gesis_metadata_create()</a></code> analyzes the contents of the survey.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">sample_metadata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gesis_metadata_create.html">gesis_metadata_create</a></span>(<span class="no">ZA7562_sample</span>)
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">sample_metadata</span>)
<span class="co">#&gt;  [1] "filename"           "qb"                 "var_name_orig"     </span>
<span class="co">#&gt;  [4] "label_orig"         "var_label_norm"     "var_name_suggested"</span>
<span class="co">#&gt;  [7] "n_valid_labels"     "n_na_labels"        "labels"            </span>
<span class="co">#&gt; [10] "na_labels"          "na_range"           "class_orig"</span></pre></body></html></div>
<p>The function <code>gesis_metadta_create()</code> normalizes those variable names that are not machine readable, using two functions under the hood (see: <code><a href="../reference/label_normalize.html">label_normalize()</a></code> and <code><a href="../reference/label_suggest.html">label_suggest()</a></code>.)</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">sample_metadata</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> ( <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">all_of</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"var_name_orig"</span>, <span class="st">"var_name_suggested"</span>)))
<span class="co">#&gt;           var_name_orig                                    var_name_suggested</span>
<span class="co">#&gt; survey.1            doi                                                   doi</span>
<span class="co">#&gt; survey.2        version                        gesis_archive_version_and_date</span>
<span class="co">#&gt; survey.3         uniqid                                                uniqid</span>
<span class="co">#&gt; survey.4       isocntry                                 country_code_iso_3166</span>
<span class="co">#&gt; survey.5             p1                                     date_of_interview</span>
<span class="co">#&gt; survey.6             p2                                     time_of_interview</span>
<span class="co">#&gt; survey.7             p3                                 duration_of_interview</span>
<span class="co">#&gt; survey.8             p4                 n_of_persons_present_during_interview</span>
<span class="co">#&gt; survey.9             p5                                respondent_cooperation</span>
<span class="co">#&gt; survey.10            d7                                        marital_status</span>
<span class="co">#&gt; survey.11            d8                                         age_education</span>
<span class="co">#&gt; survey.12           d25                                     type_of_community</span>
<span class="co">#&gt; survey.13           d60                                paying_bills_last_year</span>
<span class="co">#&gt; survey.14         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.15         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.16         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.17         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.18         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.19         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.20         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.21         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.22         qa3_6                                  trust_european_union</span>
<span class="co">#&gt; survey.23         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.24         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.25         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.26         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.27         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.28         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.29         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.30         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.31         qa3_1                                           trust_media</span>
<span class="co">#&gt; survey.32         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.33         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.34         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.35         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.36         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.37         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.38         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.39         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.40         qa3_4                             trust_national_government</span>
<span class="co">#&gt; survey.41         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.42         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.43         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.44         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.45         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.46         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.47         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.48         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.49         qa3_5                             trust_national_parliament</span>
<span class="co">#&gt; survey.50         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.51         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.52         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.53         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.54         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.55         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.56         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.57         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.58         qa3_2                               trust_political_parties</span>
<span class="co">#&gt; survey.59         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.60         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.61         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.62         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.63         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.64         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.65         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.66         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.67         qa3_3                      trust_regional_local_authorities</span>
<span class="co">#&gt; survey.68         d71_1                 political_discussion_national_matters</span>
<span class="co">#&gt; survey.69         d71_2                 political_discussion_european_matters</span>
<span class="co">#&gt; survey.70         d71_3                    political_discussion_local_matters</span>
<span class="co">#&gt; survey.71         qc9.1                    vaccine_information_sources_family</span>
<span class="co">#&gt; survey.72         qc9.2                   vaccine_information_sources_friends</span>
<span class="co">#&gt; survey.73         qc9.3                vaccine_information_sources_doctor_etc</span>
<span class="co">#&gt; survey.74         qc9.4 vaccine_information_sources_other_health_care_workers</span>
<span class="co">#&gt; survey.75         qc9.5               vaccine_information_sources_pharmacists</span>
<span class="co">#&gt; survey.76         qc9.6    vaccine_information_sources_online_social_networks</span>
<span class="co">#&gt; survey.77         qc9.7      vaccine_information_sources_other_internet_sites</span>
<span class="co">#&gt; survey.78         qc9.8        vaccine_information_sources_health_authorities</span>
<span class="co">#&gt; survey.79         qc9.9               vaccine_information_sources_other_spont</span>
<span class="co">#&gt; survey.80        qc9.10                vaccine_information_sources_none_spont</span>
<span class="co">#&gt; survey.81        qc9.11                        vaccine_information_sources_dk</span>
<span class="co">#&gt; survey.82          qc10               most_trusted_vaccine_information_source</span>
<span class="co">#&gt; survey.83           d77                 political_discussion_convince_friends</span>
<span class="co">#&gt; survey.84            w1                 weight_result_from_target_redressment</span>
<span class="co">#&gt; survey.85            w3                                        weight_germany</span>
<span class="co">#&gt; survey.86           wex             weight_extrapolated_population_aged_gt_15</span>
<span class="co">#&gt; survey.87      filename                                             not_given</span></pre></body></html></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Antal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
